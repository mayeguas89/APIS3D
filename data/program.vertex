#version 330

uniform mat4 P;
uniform mat4 V;
uniform mat4 M;

attribute vec4 vPos;
attribute vec4 vColor;
attribute vec4 vNormal;
attribute vec4 vTangent;
attribute vec2 vTexture;

out vec4 fColor;
out vec4 fNormal;
out vec4 fPos;
out vec2 fTextCoord;
out vec3 fTextCube;

void main() {
    gl_Position = P * V * M * vPos;
    fColor = vColor;
    fTextCoord = vTexture;

    fNormal = inverse(transpose(M))*vNormal;
    fPos = M * vPos;
    fTextCube = fPos.xyz;
}
